{% extends "base.html" %}

{% load static %}

{% block content %}
<div class="table-controls">
    {% if user.groups.filter(name='HR').exists %}
    <div class="hr-controls">
        <button class="btn btn-primary add-column">Add Column</button>
        <button class="btn btn-danger delete-table">Delete Table</button>
    </div>
    {% endif %}
    
    <div class="user-controls">
        <button class="btn btn-secondary save-view">Save View</button>
    </div>
</div>

<!-- Add user permissions data -->
<script id="user-permissions" type="application/json">
    {
        "isHR": {% if user.userprofile.role == 'HR' %}true{% else %}false{% endif %}
    }
</script>
{% endblock %}

{% block scripts %}
<!-- Don't include JS directly, use static files -->
<script src="{% static 'dynamic_tables/js/table.js' %}"></script>
{% endblock %}